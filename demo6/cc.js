var b=document.getElementById("iGS");function aa(a){b.W.push(a);return a}function ba(a,c){b.I[a].push({action:c,position:b.N})}function g(a){if(0>a)return 0;var c=Math.floor(a);a=a-c;c=b.ba[c];return c.altitude+(1-a)*c.C+a*c.v}
function ca(a){window.requestAnimationFrame(ca);if(b.c&&!b.Ea){b.xa?b.i=a-b.Na:(b.xa=a,b.i=100);b.Na=a;b.$=a-b.xa;for(a=0;a<b.l.length;a+=1)b.l[a].S();b.la=-b.c.b+b.ka/2;b.Oa=-b.c.f+10;0==b.wa&&0<b.I[0].length&&b.I[0][0].position<b.c.b&&(a=b.I[0].shift(),a.action());1==b.wa&&0<b.I[1].length&&b.I[1][b.I[1].length-1].position>b.c.b&&(a=b.I[1].pop(),a.action());for(a=0;a<b.l.length;a+=1){var c=b.l[a];c.style.left=(c.b+b.la)*b.ha*c.X+"px";c.style.bottom=(c.f+b.Oa)*b.ra*c.oa+"px"}30>b.c.f?(b.aa=30,b.va=
5):(b.aa=40,b.va=3);if(Math.abs(b.la-b.Ga)>.8*b.ea){a=[];for(c=0;c<b.W.length;c+=1){var e=b.W[c],d=(e.b+b.la)*e.X;d+e.pa>-b.ea&&d<b.ka+b.ea&&a.push(e)}for(c=0;c<a.length;c+=1)b.W.splice(b.W.indexOf(a[c]),1),b.appendChild(a[c]),b.l.push(a[c]);a=[];for(c=0;c<b.l.length;c+=1)e=b.l[c],d=(e.b+b.la)*e.X,(d+e.pa<-b.ea||d>b.ka+b.ea)&&a.push(e);for(c=0;c<a.length;c+=1)b.l.splice(b.l.indexOf(a[c]),1),b.removeChild(a[c]),b.W.push(a[c]);b.Ga=b.la}}}
function da(a){b.Ea=1;a?(k(0,["Task "+b.level.title+" :: Complete\n"]),a=1E3*b.za+500,m("Level Complete",a),b.$/1E3<b.level.time&&m("Time Bonus",a*(1-b.$/1E3/b.level.time)),.1>b.c.B?m("No Damage!",1.5*a):m("Damage bonus",a*(1-b.c.B/100)),n("\nCurrent Score "+b.ga),n("\n<a href='#' onclick='start("+(b.za+1)+",0)'>[DOWNLOAD NEW TASK]</a>")):(k(0,["Task "+b.level.title+" :: FAILED"]),n("Final Score "+b.ga),n("\n<a href='#' onclick='mainMenu()'>[MAIN MENU]</a>"),n("\n<a href='#' onclick='start("+b.za+
",1)'>[RESTART FROM"+b.level.title+"]</a>"))}function ea(a){ba(a,function(){da(1)})}window.fOL=function(){var a=document.getElementById("iMM");b.ha=a.clientWidth;b.ra=a.clientHeight;b.Ba=b.ra/b.ha;b.ka=b.offsetWidth/b.ha;k(0);fa();k(0);n("CARGO-72\n");n("..an invasion is only as\n    good as its supply line..\n");n("<a onclick='start(0,1)' href='#'>[Play from Start]</a>\n");n("<a onclick='start(3,1)' href='#'>[Play from DIST-54]</a>\n");n("a game by elementalsystems for twelvegamesayear\n");window.requestAnimationFrame(ca)};
window.start=function(a,c){c&&(b.ga=0);b.za=a;var e=ga[a];k(1,["Task "+e.title+" :: Downloading orders"]);if(b.l)for(var d=0;d<b.l.length;d+=1)b.removeChild(b.l[d]);b.l=[];b.W=[];b.wa=0;b.I=[[],[]];b.level=e;b.ba=[];b.w=0;b.La=0;b.N=0;b.g=0;b.qa=-99999;b.F=99999;b.Ga=1E5;b.ea=30;b.xa=0;b.aa=30;b.va=5;b.Ea=0;ha();for(d=0;d<e.content.length;d+=1)for(var l=e.content[d].H?b.w+e.content[d].H:0,f=ia(e.content[d].set),h=null;;)if(h=l?f.Ma():f.next(),h(),l){if(b.w>l)break}else if(f.ya())break;document.getElementById("iTT").innerHTML=
"Task: "+e.title;for(d=0;d<e.V.length;d+=1)n(e.V[d]);return!1};var ja=[{a:"cPT"},{pattern:"#+",fa:"@&#%$",a:"cTS"},{pattern:"[!]+",a:"cTD"}],ka=[{a:"cGT"},{pattern:"#+",fa:"      w v.,",a:"cGS"}],la=[{a:"cST"},{Aa:.8},{pattern:"[\\\\/.'\\-]+",a:"cSH"},{pattern:"#+",fa:"  o.'    ",a:"cSG"}],ma=[{a:"cST2"},{Aa:.6},{pattern:"[\\\\/.'\\-]+",a:"cSH2"},{pattern:"#+",fa:"  ^          ",a:"cSG2"}],q=[{pattern:"(\\S+ {0,5})*\\S",a:"cBS"},{pattern:"\\*.+\\*",a:"cBT"},{pattern:"[\\[\\]oO]+",a:"cBW"}],na={o:"                   O   + o ;                  _|___|/_;                  }''o..{;                    |=|;|::::::::::::::::::/==|  ;L_________________/===|;|============CARGO-72==\\;|=(( ))==(( ))==(( ))==/;    V      V      V     ; ".split(";"),
a:"cAB",m:[{pattern:"=(.*=)*",a:"cAS"},{pattern:"\\}.*\\{",a:"cAS"}]},oa={o:["  nnnnn  "," <#####>","<##(O)##>"," <#####>","  uuuuu  "],a:"cAW",m:[{pattern:"#+",a:"cWS"},{pattern:"\\(O\\)",a:"cWH"}]},r={o:"     |    ; +===+===+;<| [] [] |>; +===+===+;     |;     |;    + +;    |o|;    + +;     |;     |; ___/ \\___".split(";"),a:"cBB",m:q,u:5,D:9,M:3},pa={o:"****************;*rrrrrrrrrrrrrr*;****************;X              X;+==============+====+;| []   []   []   [] |;|'''''''''''''''''''|;|rrrrrrrrrrrrrr ___ |;|   .     .     ___ |;| .XXX'.'XXX.    '  |;| XXXXX|XXXXX   o   |;| XXXXX|XXXXX     o |;| XXXXX|XXXXX ______|".split(";"),
a:"cBB",m:q,L:16,K:19,Y:10,u:5,D:6,M:3},qa={o:["***","*1*","***","X X"],a:"cBB",m:q,L:1,K:1,Y:20,u:3,D:3,M:5},ra={o:["  .+. ",":#111#","  '+' "],a:"cCT",m:[{pattern:"\\S+",a:"cCS"}],L:3,K:3,Y:8,u:1,D:1,M:1},t={o:["T=T","| |","| |","X X"],a:"cBB",m:q,L:1,K:1,Y:12},sa={o:"        !       ;     _.-^-._    ;  .-'   O   '-. ; / O.  -O-  .O \\;/_______________\\;       | |       ; ||||||||||||||||".split(";"),a:"cBB",m:q,L:4,K:12,Y:3,u:1,D:5,M:3},v={o:"     _.-^-._    ;  .-'   O   '-. ; -111111111111-;  '-.   O   .-' ;       | |      ;      |[o]|      ; ||||||||||||||||".split(";"),
a:"cBB",m:q,u:4,D:5,M:4},ta={o:"  {-;':':';-}, {   d   b   },{      ^      },{=-=-=-=-=-=-=},   ) { (  ){( ,  (  }  )( } ),  *    **   *, !*! !*!*! !*!".split(","),a:"cAL",m:[{pattern:"{.+}",a:"cLS"},{pattern:"[*!]+",a:"cLD"}],u:4,D:5,M:3},va={o:"         (__);         (oo);  /|-----|\\/; / |     |;*  ||----||;   ^^    ^^".split(";"),a:"cLL",m:[{pattern:"\\|.*?\\|",a:"cLS"},{pattern:"\\(oo\\)|\\\\/",a:"cLI"}]};var wa=[],xa={},ya={};function za(a,c){for(var e=0;e<a.length;e+=1){var d=a[e].clientX<Aa/2?xa:ya;c?(d.start=b.$,d.ua=1):(200>b.$-d.start&&(Ba=1),d.start=0,d.ua=0)}}var Ba,Aa;
function ha(){b.onkeydown=function(a){a=a.keyCode;32==a&&(Ba=1);wa[a]=1};b.onkeyup=function(a){wa[a.keyCode]=0};b.ontouchstart=function(a){a.preventDefault();za(a.changedTouches,1);return!1};b.ontouchend=function(a){a.preventDefault();za(a.changedTouches,0);return!1};Aa=window.innerWidth;b.focus();window.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1}};function w(a,c){return Math.floor(a+(c-a+1)*Math.random())}function Ca(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function x(a,c,e){var d=a.classList.contains(c);e&&!d?a.classList.add(c):!e&&d&&a.classList.remove(c)}
function ia(a){var c={};c.source=a;c.current=[];c.ya=function(){return!this.current.length};c.next=function(){this.ya()&&(this.current=this.source.slice());return c.current.shift()};c.Ma=function(){this.ya()&&(this.current=this.source.slice());return c.current.splice(w(0,this.current.length-1),1)[0]};return c}function Da(a,c,e){e=3*e*e-2*e*e*e;return c*e+a*(1-e)};function y(){z("_",10,1)}function A(){z("_",20,1)}function B(){z("_",50,1)}function C(){z("_",w(5,15),1)}function D(){E(w(15,55),w(5,10),1)}function F(){E(w(15,55),w(-5,-10),1)}function Ea(){var a=w(5,10);E(w(15,55),a,0);E(w(15,55),-a,1)}function Fa(){var a=w(2,5);E(w(15,55),a,0);E(w(15,55),-a,1)}function G(){z("//",w(3,8),1)}function H(){z("\\",w(3,8),1)}function I(){z("_,:,_",w(5,10),1)}function Ga(){z("___v_V____",w(10,30),1,ka)}function Ha(){z("_,--,___",6,1)}
function J(){z("_,--,_____",15,1)}function K(){z("!",w(3,8),1)}function L(){M(15);z("_",10,1);M(-15)}function N(){z("_",10);M(w(1,5));z("_",10,1)}function Ia(){O(20,w(20,30))}function P(){O(-20,w(20,30))}function Q(){O(40,w(20,30))}function R(){O(0,w(10,20))}function Ja(){z("_",10,0);M(3);z("111111",6,0);M(-3);z("_",20,1,null,[{pattern:"1+",replace:"*JUMP*",a:"cBR"}])}function Ka(){var a=w(3,5);z("_",10,0);M(a);z("111111",6,0);M(-a);z("_",20,1,null,[{pattern:"1+",replace:"*JUMP*",a:"cBR"}])}
function La(){var a=w(18,30);M(-10);z("/",a);z("\\",a,1,la)}function Ma(){var a=w(18,40);M(-10);z("/",a);z("\\",a,1,ma)}function S(){var a=w(5,20);M(-10);E(w(30,75),a,0);E(w(30,75),-a,1,la)}function T(){var a=w(10,25);M(-10);E(w(30,75),a,0);E(w(30,75),-a,1,ma)}function Na(){var a=U(na,5,5);b.c=a;a.S=Oa;a.h=0;a.R=0;a.j=[U(oa,0,0),U(oa,0,0),U(oa,0,0)];a.sa=[-3,0,3];a.G=0;a.A=0;a.J=a.b;a.s=a.f;a.ia=0;a.Ia=3.14;a.O=0;a.j[0].ja=a.j[1].ja=a.j[2].ja=0;a.B=0;a.ca=0;V(0)}
function W(){U(r,w(-5,5),w(0,-3))}function Pa(){U(r,w(-5,5),w(0,-3),null,0,1);U(r,w(0,10),w(0,-3),null,0,2);U(r,w(5,15),w(0,-3),null,0,3)}function Qa(){U(pa,0,0,[{pattern:"r+",replace:" OUT-EYE-8    ",a:"cBR"}],1,6)}function Ra(){U(pa,0,0,[{pattern:"r+",replace:" DIST X19     ",a:"cBR"}],16,2)}function Sa(){U(t,0,0);var a=U(ra,0,2.5,[{pattern:"1+",replace:" STD-UNIT  "}]);Ta(a,1)}function Ua(){Va(30,-50,"cSS")}function Wa(){Va(90,30,"cAS")}function Ya(){ea(1)}
var Za=[L,Ua,Wa,y,function(){U(pa,0,0,[{pattern:"r+",replace:" ASSEMBLY X18 ",a:"cBR"}])},T,y,S,Ya,Na,B,Pa,Ha,T,y,Ha,S,B,W,y],$a=[L,Ua,Wa,y,A,Ra,y,Ya,Na,B,W,J,y],ga=[{title:"QA: MARINE",V:["Unit CARGO-72...Online...","SYS-CHK-SUM: OKAY","Status: Unit Ready","Proceed to Test Zone","Use [D] to move rightwards."],time:180,content:[{set:Za},{set:[G,y,function(){U(qa,0,0,[{pattern:"1+",replace:" QA: Yard Tests ",a:"cBR"}])},function(){X(0,"LIVE-ENV QA Test: INIT");X(0,"Use <i>[A]</i> + <i>[D]</i> to control the buggy")},
A,Pa,J,A,S,H,A,S,G,y,function(){X(0,"Press [Space] to Jump")},A,T,Ja,Ka,J,T,function(){X(0,"HAZ-INFO: Terrain Dangerous");X(0,"Danger zones can damage you.")},B,T,S,K,B,K,B,function(){U(qa,0,0,[{pattern:"1+",replace:" QA: Offroad Track ",a:"cBR"}])},A]},{set:[R,I,Ea,Fa,S,S,T,T,N,F,C,K,Ka],H:400},{set:[R,I,R,y,W,B,function(){X(1,"You are slower in reverse.");X(1,"Some obstacles will be harder.")},A,Sa,y,Qa,B,L]}]},{title:"QA:ATMOS",V:["Report for Atmospheric Quality Assurance","Ascend to testing ground."],
time:180,content:[{set:Za},{set:[Ia,Ia,Ia,D,F,I],H:200},{set:[D,D,Q,S,W,A,function(){U(qa,0,0,[{pattern:"1+",replace:" QA: Atmos Track ",a:"cBR"}])},J,function(){X(0,"ENV-INFO: In Atmospshere");X(0,"There is less drag out of water.");X(0,"But gravity affects the you more.")},C]},{set:[C,G,H,Q,W,C,Ja,Ka,N,K,Pa],H:400},{set:[Q,Q,y,W,B,Sa,y,Qa,A,L]}]},{title:"QA:DUTYASSIGN",V:["Proceed to DIST-E19 facility for further assignment.","HAZ_INFO: Damaged roadways in deep zones","Proceed with Caution"],time:180,
content:[{set:Za},{set:[P,P,P,F,F,I,C],H:200},{set:[D,F,K,N,function(){z("_",10);M(w(-1,-5));z("_",10,1)},P,Ea],H:800},{set:[R,A,D,R,A,W,A,Ra,y,function(){ea(0)},B]}]},{title:"DST:MOTHERRUN",V:["Collect Spare Parts from MOTHER-1","HAZ_INFO: Native Biologicals (unconfirmed)"],time:180,content:[{set:$a},{set:[P,P,P,F,F,I,C]},{set:[D,F,Fa,La,Ma,La,Ma,P,Ea,K,N,function(){var a=ab,c=U(ta,0,10,void 0,void 0,void 0);c.S=a;c.P=0;c.totalTime=-1},function(){for(var a=0;6>a;a+=1){var c=ab,e=U(ta,w(0,20),10,
null,0,w(2,8));e.S=c;e.P=0;e.totalTime=-1}}],H:500},{set:[D,D,D,D,Q,H,H,F,H,B,function(){U(v,0,0,[{pattern:"1+",replace:"**MOTHER-1**",a:"cBR"}]);z("_",20,1);U(sa,0,0,null,8,3);z("_",70,1);U(v,0,0,[{pattern:"1+",replace:"**MOTHER-1**",a:"cBR"}])},A,function(){U(t,0,0);var a=U(ra,0,2.5,[{pattern:"1+",replace:"##-PARTS-##"}]);Ta(a,1)},B,L]}]},{title:"DST:SKY-REFUEL",V:["Transport Fuel to Skywatch Station","HAZ-INFO: Passive local biologicals","SEC-LEV: Avoid interaction with native fauna"],time:180,
content:[{set:$a},{set:[function(){U(t,0,0);var a=U(ra,0,2.5,[{pattern:"1+",replace:"##-FUEL-##"}],8,3);Ta(a,0)},A,Ia,F,F,I,C,D,D,Q,D,Q,C]},{set:[S,Ma,function(){var a=bb,c=U(va,0,-1,void 0,void 0,void 0);c.S=a;c.P=0;c.totalTime=-1},Ga,Ga,Ga,function(){var a=w(2,5);E(w(15,35),a,0);z("___v_V____",w(1,20),0);E(w(15,45),-a,1,ka)}],H:800},{set:[Ma,G,G,function(){O(60,w(20,30))},G,A,J,function(){U(v,0,0,[{pattern:"1+",replace:"**SKY WTCH**",a:"cBR"}]);U(v,5,-2,[{pattern:"1+",replace:"**SKY WTCH**",a:"cBR"}],
1,8)},y,function(){U(t,0,0);Ta(null,1)},A,N,N,L]}]}];function z(a,c,e,d,l){for(var f=0;f<c;f+=1)Y(a.charAt(f%(a.length-1)));e&&cb(d,l)}function E(a,c,e,d){db(a,c,e,d,function(a){return 3*a*a-2*a*a*a})}function db(a,c,e,d,l){var f=b.g;for(i=0;i<a;i+=1){var h=l(i/a)*c,p=Math.floor(h),h=h-p;b.g=f+p;p="";p=.75<h?"'":.5<h?"-":.25<h?".":"_";Y(p)}.8<h&&(b.g+=1);e&&cb(d)}
function cb(a,c){b.F-=20;var e=Math.floor(b.qa-b.F+1),d=document.createElement("DIV"),l=b.N-b.w;x(d,"cGO",!0);d.T=[];for(var f=0;f<e;f+=1){d.T[f]="";for(var h=0;h<l;h+=1){var p=b.ba[h+b.w].altitude-b.F;d.T[f]=f==p?d.T[f]+b.ba[h+b.w].symbol:f<p?d.T[f]+"#":d.T[f]+" "}}d.b=b.w;d.pa=b.N-b.w;d.f=b.F;d.Ca=b.F+e;l="";for(f=e-1;0<=f;--f)l+="<div>"+Ca(d.T[f])+"</div>";d.innerHTML=l;d.S=eb;d.X=d.oa=1;fb(d,a?a:ja);c&&fb(d,c);aa(d);d.Ha?(b.N=b.w,b.g=b.La):(b.w=b.N,b.La=b.g);b.qa=-99999;b.F=99999}
function M(a){b.g+=a}function Y(a){a={C:0,v:0,symbol:a,B:0};switch(a.symbol){case "\\":a.C=1;break;case "/":a.v=1;break;case ",":a.v=.2;break;case ":":a.C=a.v=.6;break;case "1":a.C=a.v=1;break;case ".":a.C=a.v=.2;break;case "-":a.C=a.v=.5;break;case "'":a.C=a.v=.8;break;case "W":case "!":a.C=a.v=1,a.B=100}b.g-=Math.floor(a.C);a.altitude=Math.floor(b.g);b.g>b.qa&&(b.qa=b.g);b.g<b.F&&(b.F=b.g);b.g+=Math.floor(a.v);b.ba[b.N]=a;b.N+=1}
function O(a,c){for(var e=0;e<c;e+=1){var d=a-b.g;switch(w(0,Math.abs(d+6))){case 0:case 1:case 2:case 3:Y("_");break;case 4:Y("/");break;case 5:Y("\\");break;default:Y(0<d?"/":"\\")}}cb(void 0)}function eb(){}function Va(a,c,e){var d=document.createElement("DIV");x(d,"cGO",!0);x(d,e,!0);d.b=5;d.pa=b.ka;d.f=c;d.Ca=a;d.X=0;d.oa=1;d.S=eb;d.Ha=1;d.style.height=(a-c)*b.ra;d.style.width=b.ka*b.ha;aa(d)};var Z=document.getElementById("iTC"),gb=document.getElementById("iDI"),hb=document.getElementById("iSC");function k(a,c){c?Z.da=c:Z.da=[];Z.na=[];Z.ma=[];x(document.body,"play",a);Z.ta="";Z.position=-1;Z.time=0;Z.content="";Z.remove=a;ib()}function n(a){Z.na.push(a)}function ib(){Z.content="";for(var a=0;a<Z.da.length;a+=1)Z.content+=Z.da[a]+"\n";Z.innerHTML=Z.content}
function fa(){iCC.innerHTML="Time "+(b.$/1E3).toFixed(0)+"s";var a=50;0>Z.position?(Z.na.length&&(Z.ta=Z.na[0].replace(/<.+?>/g,""),Z.position=0),Z.ma.length&&Z.remove&&Z.ma[0]<Z.time&&(Z.da.shift(),Z.ma.shift(),ib(),a=100)):(Z.innerHTML=Z.content+Z.ta.substring(0,Z.position)+"_",Z.position+=1,Z.position==Z.ta.length&&(Z.da.push(Z.na.shift()),Z.ma.push(Z.time+5E3),ib(),Z.position=-1));Z.time+=a;setTimeout(fa,a)}function X(a,c){ba(a,function(){n(c)})}
function V(a){b.c.B+=a;gb.style.width=b.c.B.toFixed(1)+"%";100<b.c.B&&da(0)}function m(a,c){0<c?n("Score +"+c.toFixed(0)+"("+a+")"):n("Score Penalty "+c.toFixed(0)+"("+a+")");b.ga+=Math.floor(c);hb.innerHTML="SCORE "+b.ga};function fb(a,c){for(var e=a.getElementsByTagName("DIV"),d=0;d<e.length;d+=1){for(var l=e[d].innerHTML,f=0;f<c.length;f+=1)c[f].pattern?l=l.replace(new RegExp(c[f].pattern,"g"),function(a){if(c[f].replace){a=a.length;for(var d="";d.length<a;)d+=c[f].replace;a=d.substring(0,a)}else if(c[f].fa){for(var d=c[f].fa,e="";e.length<a.length;)e+=d.charAt(w(0,d.length));a=e}c[f].a&&(a="<span class="+c[f].a+">"+a+"</span>");return a}):(c[f].a&&x(a,c[f].a,!0),c[f].Aa&&(a.X=a.oa=c[f].Aa,a.Ha=1));e[d].innerHTML=
l}}
function U(a,c,e,d,l,f){!l&&a.Y&&(l=a.Y);!f&&a.M&&(f=a.M);var h=a.o.slice();if(l){a.L||(a.L=0);a.K||(a.K=h[0].length-1);for(var p=0;p<h.length;p+=1){for(var Xa=h[p].substring(a.L,a.K+1),ua=Xa,u=0;u<l-1;u+=1)ua+=Xa;h[p]=h[p].substring(0,a.L)+ua+h[p].substring(a.K+1)}}if(f)for(a.u||(a.u=0),a.D||(a.D=h.length-1),u=0;u<f-1;u+=1)Array.prototype.splice.apply(h,[a.u,0].concat(h.slice(a.u,a.D+1)));l=h.length;f=document.createElement("DIV");p=0;x(f,"cGO",!0);x(f,a.a,!0);f.b=b.w+c;f.f=b.g+e;f.Ca=b.g+l+e;c=
"";for(u=0;u<l;u+=1)p<h[u].length&&(p=h[u].length),c+="<div>"+Ca(h[u])+"</div>";f.pa=p;f.innerHTML=c;f.X=f.oa=1;a.m&&fb(f,a.m);d&&fb(f,d);f.S=eb;return aa(f)};function Oa(){this.ia=0;if(ya.ua||wa[68])this.ia=120;if(xa.ua||wa[65])this.ia=-100;Ba&&(Ba=0,this.ca=250);this.R>this.h?(this.h+=this.Ia*b.i/1E3,this.h>this.R&&(this.h=this.R)):this.R<this.h&&(this.h-=this.Ia*b.i/1E3,this.h<this.R&&(this.h=this.R));var a=Math.cos(this.h),c=Math.sin(this.h),e=this.G*b.i/1E3,d=this.A*b.i/1E3;this.J+=e;this.s+=d;for(var l=1E3,f=0;3>f;f+=1){var h=this.J+1*c+a*this.sa[f],p=this.s-1+(1*a-c*this.sa[f])/b.Ba-g(h);.25>p&&(this.j[f].ja+=this.speed/5*b.i/1E3);0>p&&(h=(0>h?{}:
b.ba[Math.floor(h)]).B)&&V(h*b.i/1E3);l>p&&(l=p)}-1.5>l?(this.J-=e,this.s-=d,this.G*=-.1,this.A=0):0>l?(0>this.A&&(this.A=0),this.s-=l,this.O=1):this.O=0;0<this.O&&0<this.ca&&(this.A+=20,this.ca=0);this.ca-=b.i;for(f=0;3>f;f+=1)this.j[f].b=this.J-1.5+1*c+a*this.sa[f],this.j[f].f=this.s-1+(1*a-c*this.sa[f])/b.Ba,this.j[f].style.transform="rotate("+this.j[f].ja+"rad)";this.b=this.J-5;this.f=this.s;this.style.transform="rotate("+this.h.toFixed(3)+"rad)";this.U&&(h=this.J+3*c-5*a,e=this.s+(3*a+5*c)/b.Ba,
this.U.b=h,this.U.f=e,this.U.style.transform="rotate("+this.h.toFixed(3)+"rad)");this.G+=(this.ia*this.O*a-b.va*this.O*this.G+this.O*c*b.aa)*b.i/1E3;this.A+=(-this.ia*this.O*c-b.aa+this.O*a*b.aa*.7)*b.i/1E3;this.speed=Math.sqrt(this.G*this.G+this.A*this.A);0>this.G&&(this.speed*=-1);.25>l&&(this.R=Math.atan2((g(this.j[0].b+1.5)-g(this.j[2].b+1.5))*b.ra,(this.j[2].b-this.j[0].b)*b.ha))}
function Ta(a,c){ba(0,function(){b.c.U&&(n("Cargo Unloaded."),b.c.U=null,m("CARGO-DELIVERY",500));a&&(n("Cargo Loaded."),b.c.U=a,b.c.Qa=a.b,b.c.Ra=a.f,b.c.Pa=0,m("CARGO-LOAD",500));c&&(b.wa=1,n("Return to base."))})};function jb(a,c,e,d,l,f){if(a.P>a.totalTime){var h=-c;c=h+(c-h)*Math.random();h=-e;e=h+(e-h)*Math.random();a.Ja=a.b;a.Ka=a.f;a.Fa=a.Ja+c;a.Z=a.Ka+e;e=g(a.Fa);a.Z<e+d&&(a.Z=e+d);a.Z>e+l&&(a.Z=e+l);a.P=0;a.totalTime=w(f,2*f)}else d=a.P/a.totalTime,a.b=Da(a.Ja,a.Fa,d),a.f=Da(a.Ka,a.Z,d);a.P+=b.i}function ab(){jb(this,20,10,.5,12,2E3);this.f<b.c.f+2&&this.f>b.c.f-2&&this.b+3>b.c.b&&this.b<b.c.b+4&&V(50*b.i/1E3)}
function bb(){this.Da||jb(this,5,.2,-2,-.5,500);this.f<b.c.f+3&&this.f+2>b.c.f&&this.b+4>b.c.b&&this.b<b.c.b+4&&(this.Da?V(25*b.i/1E3):(this.Da=1,V(20),m("Hit Native Fauna",-200)))};
